// koffee 1.4.0
module.exports = {
    name: "escape",
    scheme: "metal",
    size: [7, 9, 7],
    help: "to activate the exit,\nshoot the switch.\n\nto be able to\nshoot the switch,\nmove the stones.",
    player: {
        coordinates: [3, 0, 4],
        orientation: minusXupY
    },
    exits: [
        {
            name: "exit",
            active: 0,
            position: [0, -3, 0]
        }
    ],
    create: function() {
        var Switch, exit_switch, s;
        s = world.size;
        Switch = require('../switch');
        exit_switch = new Switch();
        exit_switch.getEventWithName("switched").addAction(world.continuous(function() {
            return world.toggle("exit");
        }));
        world.addObjectAtPos(exit_switch, world.decenter(0, -2, 0));
        world.addObjectAtPos('Stone', world.decenter(0, s.y / 2, 0));
        world.addObjectAtPos('Stone', world.decenter(1, s.y / 2, 0));
        world.addObjectAtPos('Stone', world.decenter(0, s.y / 2, 1));
        world.addObjectAtPos('Stone', world.decenter(0, s.y / 2, -1));
        world.addObjectAtPos('Stone', world.decenter(-1, s.y / 2, 0));
        world.addObjectLine('Stone', world.decenter(-2, s.y / 2, -2), world.decenter(2, s.y / 2, -2));
        world.addObjectLine('Stone', world.decenter(2, s.y / 2, -2), world.decenter(2, s.y / 2, 2));
        world.addObjectLine('Stone', world.decenter(2, s.y / 2, 2), world.decenter(-2, s.y / 2, 2));
        world.addObjectLine('Stone', world.decenter(-2, s.y / 2, 2), world.decenter(-2, s.y / 2, -2));
        world.addObjectAtPos('Wall', world.decenter(1, 0, 0));
        world.addObjectAtPos('Wall', world.decenter(0, 0, 1));
        world.addObjectAtPos('Wall', world.decenter(-1, 0, 0));
        world.addObjectAtPos('Wall', world.decenter(0, 0, -1));
        world.addObjectAtPos('Wall', world.decenter(1, -1, 0));
        world.addObjectAtPos('Wall', world.decenter(0, -1, 1));
        world.addObjectAtPos('Wall', world.decenter(-1, -1, 0));
        world.addObjectAtPos('Wall', world.decenter(0, -1, -1));
        world.addObjectAtPos('Wall', world.decenter(1, -1, 1));
        world.addObjectAtPos('Wall', world.decenter(-1, -1, 1));
        world.addObjectAtPos('Wall', world.decenter(-1, -1, -1));
        world.addObjectAtPos('Wall', world.decenter(1, -1, -1));
        world.addObjectAtPos('Wall', world.decenter(1, -2, 0));
        world.addObjectAtPos('Wall', world.decenter(0, -2, 1));
        world.addObjectAtPos('Wall', world.decenter(-1, -2, 0));
        return world.addObjectAtPos('Wall', world.decenter(0, -2, -1));
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBT0EsTUFBTSxDQUFDLE9BQVAsR0FDSTtJQUFBLElBQUEsRUFBWSxRQUFaO0lBQ0EsTUFBQSxFQUFZLE9BRFo7SUFFQSxJQUFBLEVBQVksQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FGWjtJQUdBLElBQUEsRUFBWSxnR0FIWjtJQVdBLE1BQUEsRUFDSTtRQUFBLFdBQUEsRUFBZ0IsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FBaEI7UUFDQSxXQUFBLEVBQWdCLFNBRGhCO0tBWko7SUFjQSxLQUFBLEVBQVU7UUFDTjtZQUFBLElBQUEsRUFBZ0IsTUFBaEI7WUFDQSxNQUFBLEVBQWdCLENBRGhCO1lBRUEsUUFBQSxFQUFnQixDQUFDLENBQUQsRUFBRyxDQUFDLENBQUosRUFBTSxDQUFOLENBRmhCO1NBRE07S0FkVjtJQW1CQSxNQUFBLEVBQVEsU0FBQTtBQUVKLFlBQUE7UUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDO1FBQ1YsTUFBQSxHQUFTLE9BQUEsQ0FBUSxXQUFSO1FBQ1QsV0FBQSxHQUFjLElBQUksTUFBSixDQUFBO1FBQ2QsV0FBVyxDQUFDLGdCQUFaLENBQTZCLFVBQTdCLENBQXdDLENBQUMsU0FBekMsQ0FBbUQsS0FBSyxDQUFDLFVBQU4sQ0FBaUIsU0FBQTttQkFBRyxLQUFLLENBQUMsTUFBTixDQUFhLE1BQWI7UUFBSCxDQUFqQixDQUFuRDtRQUNBLEtBQUssQ0FBQyxjQUFOLENBQXFCLFdBQXJCLEVBQWtDLEtBQUssQ0FBQyxRQUFOLENBQWUsQ0FBZixFQUFrQixDQUFDLENBQW5CLEVBQXNCLENBQXRCLENBQWxDO1FBRUEsS0FBSyxDQUFDLGNBQU4sQ0FBcUIsT0FBckIsRUFBOEIsS0FBSyxDQUFDLFFBQU4sQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUF2QixFQUEwQixDQUEx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bkIsRUFBc0IsQ0FBdEIsQ0FBN0I7UUFDQSxLQUFLLENBQUMsY0FBTixDQUFxQixNQUFyQixFQUE2QixLQUFLLENBQUMsUUFBTixDQUFlLENBQUMsQ0FBaEIsRUFBa0IsQ0FBQyxDQUFuQixFQUFzQixDQUF0QixDQUE3QjtlQUNBLEtBQUssQ0FBQyxjQUFOLENBQXFCLE1BQXJCLEVBQTZCLEtBQUssQ0FBQyxRQUFOLENBQWdCLENBQWhCLEVBQWtCLENBQUMsQ0FBbkIsRUFBcUIsQ0FBQyxDQUF0QixDQUE3QjtJQXBDSSxDQW5CUiIsInNvdXJjZXNDb250ZW50IjpbIlxuIyAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMFxuIyAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIFxuIyAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgICAgIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwIFxuIyAgIDAwMCAgICAgICAgICAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgIFxuIyAgIDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAwMDAwMFxuXG5tb2R1bGUuZXhwb3J0cyA9XG4gICAgbmFtZTogICAgICAgXCJlc2NhcGVcIlxuICAgIHNjaGVtZTogICAgIFwibWV0YWxcIlxuICAgIHNpemU6ICAgICAgIFs3LDksN11cbiAgICBoZWxwOiAgICAgICBcIlwiXCJcbiAgICAgICAgICAgICAgICB0byBhY3RpdmF0ZSB0aGUgZXhpdCxcbiAgICAgICAgICAgICAgICBzaG9vdCB0aGUgc3dpdGNoLlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRvIGJlIGFibGUgdG9cbiAgICAgICAgICAgICAgICBzaG9vdCB0aGUgc3dpdGNoLFxuICAgICAgICAgICAgICAgIG1vdmUgdGhlIHN0b25lcy5cbiAgICAgICAgICAgICAgICBcIlwiXCJcbiAgICBwbGF5ZXI6ICAgXG4gICAgICAgIGNvb3JkaW5hdGVzOiAgICBbMywwLDRdXG4gICAgICAgIG9yaWVudGF0aW9uOiAgICBtaW51c1h1cFlcbiAgICBleGl0czogICAgW1xuICAgICAgICBuYW1lOiAgICAgICAgICAgXCJleGl0XCJcbiAgICAgICAgYWN0aXZlOiAgICAgICAgIDBcbiAgICAgICAgcG9zaXRpb246ICAgICAgIFswLC0zLDBdXG4gICAgXVxuICAgIGNyZWF0ZTogLT5cbiMgXG4gICAgICAgIHMgPSB3b3JsZC5zaXplXG4gICAgICAgIFN3aXRjaCA9IHJlcXVpcmUgJy4uL3N3aXRjaCdcbiAgICAgICAgZXhpdF9zd2l0Y2ggPSBuZXcgU3dpdGNoKClcbiAgICAgICAgZXhpdF9zd2l0Y2guZ2V0RXZlbnRXaXRoTmFtZShcInN3aXRjaGVkXCIpLmFkZEFjdGlvbiB3b3JsZC5jb250aW51b3VzIC0+IHdvcmxkLnRvZ2dsZSBcImV4aXRcIlxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyBleGl0X3N3aXRjaCwgd29ybGQuZGVjZW50ZXIgMCwgLTIsIDBcbiAgICAgICAgXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdTdG9uZScsIHdvcmxkLmRlY2VudGVyICAwLCBzLnkvMiwgMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnU3RvbmUnLCB3b3JsZC5kZWNlbnRlciAgMSwgcy55LzIsIDBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1N0b25lJywgd29ybGQuZGVjZW50ZXIgIDAsIHMueS8yLCAxXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdTdG9uZScsIHdvcmxkLmRlY2VudGVyICAwLCBzLnkvMiwtMVxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnU3RvbmUnLCB3b3JsZC5kZWNlbnRlciAtMSwgcy55LzIsIDBcbiAgICAgICAgXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdExpbmUgJ1N0b25lJywgd29ybGQuZGVjZW50ZXIoLTIsIHMueS8yLC0yKSwgd29ybGQuZGVjZW50ZXIoIDIsIHMueS8yLC0yKVxuICAgICAgICB3b3JsZC5hZGRPYmplY3RMaW5lICdTdG9uZScsIHdvcmxkLmRlY2VudGVyKCAyLCBzLnkvMiwtMiksIHdvcmxkLmRlY2VudGVyKCAyLCBzLnkvMiwgMilcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0TGluZSAnU3RvbmUnLCB3b3JsZC5kZWNlbnRlciggMiwgcy55LzIsIDIpLCB3b3JsZC5kZWNlbnRlcigtMiwgcy55LzIsIDIpXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdExpbmUgJ1N0b25lJywgd29ybGQuZGVjZW50ZXIoLTIsIHMueS8yLCAyKSwgd29ybGQuZGVjZW50ZXIoLTIsIHMueS8yLC0yKVxuICAgICAgICBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAgMSwgMCwgMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnV2FsbCcsIHdvcmxkLmRlY2VudGVyICAwLCAwLCAxXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdXYWxsJywgd29ybGQuZGVjZW50ZXIgLTEsIDAsIDBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAgMCwgMCwtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnV2FsbCcsIHdvcmxkLmRlY2VudGVyICAxLC0xLCAwXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdXYWxsJywgd29ybGQuZGVjZW50ZXIgIDAsLTEsIDFcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAtMSwtMSwgMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnV2FsbCcsIHdvcmxkLmRlY2VudGVyICAwLC0xLC0xXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdXYWxsJywgd29ybGQuZGVjZW50ZXIgIDEsLTEsIDFcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAtMSwtMSwgMVxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnV2FsbCcsIHdvcmxkLmRlY2VudGVyIC0xLC0xLC0xXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdXYWxsJywgd29ybGQuZGVjZW50ZXIgIDEsLTEsLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAgMSwtMiwgMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnV2FsbCcsIHdvcmxkLmRlY2VudGVyICAwLC0yLCAxXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zICdXYWxsJywgd29ybGQuZGVjZW50ZXIgLTEsLTIsIDBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0QXRQb3MgJ1dhbGwnLCB3b3JsZC5kZWNlbnRlciAgMCwtMiwtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJdfQ==
//# sourceURL=../../coffee/levels/escape.coffee