// koffee 1.4.0
var schemes;

schemes = ['tron', 'candy', 'default', 'green', 'yellow', 'blue', 'red', 'metal', 'bronze', 'crazy'];

module.exports = {
    name: "gamma",
    design: 'Michael Abel',
    scheme: "tron",
    size: [10, 10, 10],
    help: "shoot at the 4 switches \nto activate the exit.",
    player: {
        coordinates: [5, 5, 4],
        orientation: XupY
    },
    exits: [
        {
            name: "exit",
            active: 0,
            coordinates: [2, 7, 4]
        }
    ],
    create: function() {
        var Switch, a, b, c, d, e, s, schemesw, switched;
        s = world.size;
        world.scheme_counter = 0;
        world.switch_counter = 0;
        Switch = require('../items').Switch;
        schemesw = function() {
            world.scheme_counter = (world.scheme_counter + 1) % schemes.length;
            return world.applyScheme(schemes[world.scheme_counter]);
        };
        switched = function(swtch) {
            var exit;
            world.switch_counter += swtch.active && 1 || -1;
            exit = world.getObjectWithName("exit");
            return exit.setActive(world.switch_counter === 4);
        };
        a = new Switch;
        b = new Switch;
        c = new Switch;
        d = new Switch;
        e = new Switch;
        a.getEventWithName("switched").addAction(world.continuous(schemesw));
        b.getEventWithName("switched").addAction(world.continuous(function() {
            return switched(b);
        }));
        c.getEventWithName("switched").addAction(world.continuous(function() {
            return switched(c);
        }));
        d.getEventWithName("switched").addAction(world.continuous(function() {
            return switched(d);
        }));
        e.getEventWithName("switched").addAction(world.continuous(function() {
            return switched(e);
        }));
        world.addObjectAtPos(a, s.x - 1, 0, 0);
        world.addObjectAtPos(b, 0, 0, 0);
        world.addObjectAtPos(c, s.x - 3, 4, 4);
        world.addObjectAtPos(d, 4, 4, s.z - 3);
        world.addObjectAtPos(e, 4, s.y - 3, 6);
        world.addObjectAtPos('Mutant', s.x / 2, 0, 0);
        world.addObjectLine('Wall', 0, 0, 1, s.x, 0, 1);
        world.addObjectLine('Wall', 0, 1, 0, s.x, 1, 0);
        world.addObjectLine('Wall', 0, 2, 2, s.x - 3, 2, 2);
        world.addObjectLine('Wall', 2, 2, 2, 2, 2, s.z - 3);
        world.addObjectLine('Wall', 2, 2, 4, 2, s.y - 3, 4);
        world.addObjectLine('Wall', 2, 4, 4, s.x - 4, 4, 4);
        world.addObjectLine('Wall', 4, 4, 4, 4, 4, s.z - 4);
        return world.addObjectLine('Wall', 4, 4, 6, 4, s.y - 4, 6);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtbWEuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFPQSxJQUFBOztBQUFBLE9BQUEsR0FBVSxDQUFDLE1BQUQsRUFBUSxPQUFSLEVBQWdCLFNBQWhCLEVBQTBCLE9BQTFCLEVBQWtDLFFBQWxDLEVBQTJDLE1BQTNDLEVBQWtELEtBQWxELEVBQXdELE9BQXhELEVBQWdFLFFBQWhFLEVBQXlFLE9BQXpFOztBQUVWLE1BQU0sQ0FBQyxPQUFQLEdBQ0k7SUFBQSxJQUFBLEVBQVksT0FBWjtJQUNBLE1BQUEsRUFBWSxjQURaO0lBRUEsTUFBQSxFQUFZLE1BRlo7SUFHQSxJQUFBLEVBQVksQ0FBQyxFQUFELEVBQUksRUFBSixFQUFPLEVBQVAsQ0FIWjtJQUlBLElBQUEsRUFBWSxpREFKWjtJQVFBLE1BQUEsRUFDSTtRQUFBLFdBQUEsRUFBaUIsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FBakI7UUFDQSxXQUFBLEVBQWlCLElBRGpCO0tBVEo7SUFXQSxLQUFBLEVBQVU7UUFDTjtZQUFBLElBQUEsRUFBYyxNQUFkO1lBQ0EsTUFBQSxFQUFjLENBRGQ7WUFFQSxXQUFBLEVBQWMsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FGZDtTQURNO0tBWFY7SUFnQkEsTUFBQSxFQUFRLFNBQUE7QUFDSixZQUFBO1FBQUEsQ0FBQSxHQUFJLEtBQUssQ0FBQztRQUNWLEtBQUssQ0FBQyxjQUFOLEdBQXVCO1FBQ3ZCLEtBQUssQ0FBQyxjQUFOLEdBQXVCO1FBQ3RCLFNBQVUsT0FBQSxDQUFRLFVBQVI7UUFDWCxRQUFBLEdBQVcsU0FBQTtZQUNQLEtBQUssQ0FBQyxjQUFOLEdBQXVCLENBQUMsS0FBSyxDQUFDLGNBQU4sR0FBcUIsQ0FBdEIsQ0FBQSxHQUEyQixPQUFPLENBQUM7bUJBQzFELEtBQUssQ0FBQyxXQUFOLENBQWtCLE9BQVEsQ0FBQSxLQUFLLENBQUMsY0FBTixDQUExQjtRQUZPO1FB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dUMsQ0FBdkMsRUFBeUMsQ0FBekMsRUFBMkMsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUEvQztRQUNBLEtBQUssQ0FBQyxhQUFOLENBQXFCLE1BQXJCLEVBQWdDLENBQWhDLEVBQWtDLENBQWxDLEVBQW9DLENBQXBDLEVBQXVDLENBQXZDLEVBQXlDLENBQUMsQ0FBQyxDQUFGLEdBQUksQ0FBN0MsRUFBK0MsQ0FBL0M7UUFDQSxLQUFLLENBQUMsYUFBTixDQUFxQixNQUFyQixFQUFnQyxDQUFoQyxFQUFrQyxDQUFsQyxFQUFvQyxDQUFwQyxFQUF1QyxDQUFDLENBQUMsQ0FBRixHQUFJLENBQTNDLEVBQTZDLENBQTdDLEVBQStDLENBQS9DO1FBQ0EsS0FBSyxDQUFDLGFBQU4sQ0FBcUIsTUFBckIsRUFBZ0MsQ0FBaEMsRUFBa0MsQ0FBbEMsRUFBb0MsQ0FBcEMsRUFBdUMsQ0FBdkMsRUFBeUMsQ0FBekMsRUFBMkMsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUEvQztlQUNBLEtBQUssQ0FBQyxhQUFOLENBQXFCLE1BQXJCLEVBQWdDLENBQWhDLEVBQWtDLENBQWxDLEVBQW9DLENBQXBDLEVBQXVDLENBQXZDLEVBQXlDLENBQUMsQ0FBQyxDQUFGLEdBQUksQ0FBN0MsRUFBK0MsQ0FBL0M7SUF2Q0ksQ0FoQlIiLCJzb3VyY2VzQ29udGVudCI6WyJcbiMgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwICAgICAwMCAgMDAgICAgIDAwICAgMDAwMDAwMCBcbiMgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcbiMgMDAwICAwMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwMDAwMDAwICAwMDAwMDAwMDBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAwIDAwMCAgMDAwIDAgMDAwICAwMDAgICAwMDBcbiMgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcblxuc2NoZW1lcyA9IFsndHJvbicgJ2NhbmR5JyAnZGVmYXVsdCcgJ2dyZWVuJyAneWVsbG93JyAnYmx1ZScgJ3JlZCcgJ21ldGFsJyAnYnJvbnplJyAnY3JhenknXVxuXG5tb2R1bGUuZXhwb3J0cyA9XG4gICAgbmFtZTogICAgICAgXCJnYW1tYVwiXG4gICAgZGVzaWduOiAgICAgJ01pY2hhZWwgQWJlbCdcbiAgICBzY2hlbWU6ICAgICBcInRyb25cIlxuICAgIHNpemU6ICAgICAgIFsxMCwxMCwxMF1cbiAgICBoZWxwOiAgICAgICBcIlwiXCJcbiAgICAgICAgICAgICAgICBzaG9vdCBhdCB0aGUgNCBzd2l0Y2hlcyBcbiAgICAgICAgICAgICAgICB0byBhY3RpdmF0ZSB0aGUgZXhpdC5cbiAgICAgICAgICAgICAgICBcIlwiXCJcbiAgICBwbGF5ZXI6IFxuICAgICAgICBjb29yZGluYXRlczogICAgIFs1LDUsNF1cbiAgICAgICAgb3JpZW50YXRpb246ICAgICBYdXBZXG4gICAgZXhpdHM6ICAgIFtcbiAgICAgICAgbmFtZTogICAgICAgICBcImV4aXRcIlxuICAgICAgICBhY3RpdmU6ICAgICAgIDBcbiAgICAgICAgY29vcmRpbmF0ZXM6ICBbMiw3LDRdXG4gICAgXVxuICAgIGNyZWF0ZTogLT5cbiAgICAgICAgcyA9IHdvcmxkLnNpemVcbiAgICAgICAgd29ybGQuc2NoZW1lX2NvdW50ZXIgPSAwXG4gICAgICAgIHdvcmxkLnN3aXRjaF9jb3VudGVyID0gMFxuICAgICAgICB7U3dpdGNofSA9IHJlcXVpcmUgJy4uL2l0ZW1zJ1xuICAgICAgICBzY2hlbWVzdyA9IC0+XG4gICAgICAgICAgICB3b3JsZC5zY2hlbWVfY291bnRlciA9ICh3b3JsZC5zY2hlbWVfY291bnRlcisxKSAlIHNjaGVtZXMubGVuZ3RoXG4gICAgICAgICAgICB3b3JsZC5hcHBseVNjaGVtZSBzY2hlbWVzW3dvcmxkLnNjaGVtZV9jb3VudGVyXSBcbiAgICAgICAgc3dpdGNoZWQgPSAoc3d0Y2gpIC0+XG4gICAgICAgICAgICB3b3JsZC5zd2l0Y2hfY291bnRlciArPSBzd3RjaC5hY3RpdmUgYW5kIDEgb3IgLTFcbiAgICAgICAgICAgIGV4aXQgPSB3b3JsZC5nZXRPYmplY3RXaXRoTmFtZSBcImV4aXRcIlxuICAgICAgICAgICAgZXhpdC5zZXRBY3RpdmUgd29ybGQuc3dpdGNoX2NvdW50ZXIgPT0gNCBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgYSA9IG5ldyBTd2l0Y2hcbiAgICAgICAgYiA9IG5ldyBTd2l0Y2hcbiAgICAgICAgYyA9IG5ldyBTd2l0Y2hcbiAgICAgICAgZCA9IG5ldyBTd2l0Y2hcbiAgICAgICAgZSA9IG5ldyBTd2l0Y2hcbiAgICAgICAgXG4gICAgICAgIGEuZ2V0RXZlbnRXaXRoTmFtZShcInN3aXRjaGVkXCIpLmFkZEFjdGlvbiB3b3JsZC5jb250aW51b3VzIHNjaGVtZXN3IFxuICAgICAgICBiLmdldEV2ZW50V2l0aE5hbWUoXCJzd2l0Y2hlZFwiKS5hZGRBY3Rpb24gd29ybGQuY29udGludW91cyAtPiBzd2l0Y2hlZChiKVxuICAgICAgICBjLmdldEV2ZW50V2l0aE5hbWUoXCJzd2l0Y2hlZFwiKS5hZGRBY3Rpb24gd29ybGQuY29udGludW91cyAtPiBzd2l0Y2hlZChjKVxuICAgICAgICBkLmdldEV2ZW50V2l0aE5hbWUoXCJzd2l0Y2hlZFwiKS5hZGRBY3Rpb24gd29ybGQuY29udGludW91cyAtPiBzd2l0Y2hlZChkKVxuICAgICAgICBlLmdldEV2ZW50V2l0aE5hbWUoXCJzd2l0Y2hlZFwiKS5hZGRBY3Rpb24gd29ybGQuY29udGludW91cyAtPiBzd2l0Y2hlZChlKVxuIFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyBhLCAgICAgIHMueC0xLDAsMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyBiLCAgICAgIDAsMCwwXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zIGMgLCAgcy54LTMsNCw0XG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zIGQgLCAgNCw0LHMuei0zXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdEF0UG9zIGUgLCAgNCxzLnktMyw2XG4gICAgICAgIFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RBdFBvcyAnTXV0YW50JywgIHMueC8yLDAsMFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RMaW5lICAnV2FsbCcsICAgIDAsMCwxLCBzLngsMCwxXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdExpbmUgICdXYWxsJywgICAgMCwxLDAsIHMueCwxLDBcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0TGluZSAgJ1dhbGwnLCAgICAwLDIsMiwgcy54LTMsMiwyXG4gICAgICAgIHdvcmxkLmFkZE9iamVjdExpbmUgICdXYWxsJywgICAgMiwyLDIsIDIsMixzLnotM1xuICAgICAgICB3b3JsZC5hZGRPYmplY3RMaW5lICAnV2FsbCcsICAgIDIsMiw0LCAyLHMueS0zLDRcbiAgICAgICAgd29ybGQuYWRkT2JqZWN0TGluZSAgJ1dhbGwnLCAgICAyLDQsNCwgcy54LTQsNCw0XG4gICAgICAgIHdvcmxkLmFkZE9iamVjdExpbmUgICdXYWxsJywgICAgNCw0LDQsIDQsNCxzLnotNFxuICAgICAgICB3b3JsZC5hZGRPYmplY3RMaW5lICAnV2FsbCcsICAgIDQsNCw2LCA0LHMueS00LDZcbiAgICAgICAgXG4gICAgICAgICJdfQ==
//# sourceURL=../../coffee/levels/gamma.coffee