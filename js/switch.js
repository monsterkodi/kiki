// koffee 1.4.0
var Action, Item, Light, Material, Quaternion, Switch, Vector,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

Quaternion = require('./lib/quaternion');

Vector = require('./lib/vector');

Action = require('./action');

Light = require('./light');

Item = require('./item');

Material = require('./material');

Switch = (function(superClass) {
    extend(Switch, superClass);

    Switch.prototype.isSpaceEgoistic = function() {
        return false;
    };

    function Switch(active) {
        if (active == null) {
            active = false;
        }
        Switch.__super__.constructor.apply(this, arguments);
        this.angle = 0;
        this.light = null;
        this.active = null;
        this.sound_on = 'SWITCH_ON';
        this.sound_off = 'SWITCH_OFF';
        this.SWITCH_OFF_EVENT = this.addEventWithName("off");
        this.SWITCH_ON_EVENT = this.addEventWithName("on");
        this.SWITCHED_EVENT = this.addEventWithName("switched");
        this.addAction(new Action(this, Action.TOGGLE, "toggle", 0));
        this.addAction(new Action(this, Action.ROTATE, "rotation", 2000, Action.CONTINUOUS));
        this.setActive(active);
    }

    Switch.prototype.del = function() {
        var ref;
        this.mesh.geometry.dispose();
        this.tors.geometry.dispose();
        if ((ref = this.light) != null) {
            ref.del();
        }
        return Switch.__super__.del.apply(this, arguments);
    };

    Switch.prototype.createMesh = function() {
        var t1, t2, torusRadius;
        torusRadius = 0.05;
        t1 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        this.mesh = new THREE.Mesh(t1, Material["switch"]);
        this.mesh.castShadow = true;
        this.mesh.receiveShadow = true;
        t2 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        t2.rotateY(Vector.DEG2RAD(90));
        this.tors = new THREE.Mesh(t2, Material["switch"]);
        this.tors.castShadow = true;
        this.tors.receiveShadow = true;
        this.mesh.add(this.tors);
        return this.mesh;
    };

    Switch.prototype.bulletImpact = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.lightDeleted = function() {
        return this.light = null;
    };

    Switch.prototype.createLight = function() {
        if (this.light) {
            return;
        }
        return this.light = new Light({
            pos: this.position,
            radius: 6.0
        });
    };

    Switch.prototype.toggle = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.setActive = function(status) {
        if (this.active !== status) {
            this.active = status;
            if (this.active) {
                this.startTimedAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_on);
                this.events[this.SWITCH_ON_EVENT].triggerActions();
                this.createLight();
                this.light.on('deleted', this.lightDeleted);
            } else {
                this.stopAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_off);
                this.events[this.SWITCH_OFF_EVENT].triggerActions();
                if (this.light) {
                    this.light.del();
                    this.light = null;
                }
            }
            return this.events[this.SWITCHED_EVENT].triggerActions();
        }
    };

    Switch.prototype.setPosition = function(pos) {
        var ref;
        Switch.__super__.setPosition.call(this, pos);
        return (ref = this.light) != null ? ref.setPosition(this.position) : void 0;
    };

    Switch.prototype.animate = function(f) {
        this.angle += f * 360;
        this.mesh.quaternion.copy(Quaternion.rotationAroundVector(this.angle, Vector.unitY));
        return this.tors.quaternion.copy(Quaternion.rotationAroundVector(this.angle / 2, Vector.unitZ));
    };

    Switch.prototype.performAction = function(action) {
        if (action.id === Action.TOGGLE) {
            return this.toggle();
        } else {
            return this.animate(action.getRelativeDelta());
        }
    };

    return Switch;

})(Item);

module.exports = Switch;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBTUEsSUFBQSx5REFBQTtJQUFBOzs7QUFBQSxVQUFBLEdBQWEsT0FBQSxDQUFRLGtCQUFSOztBQUNiLE1BQUEsR0FBYSxPQUFBLENBQVEsY0FBUjs7QUFDYixNQUFBLEdBQWEsT0FBQSxDQUFRLFVBQVI7O0FBQ2IsS0FBQSxHQUFhLE9BQUEsQ0FBUSxTQUFSOztBQUNiLElBQUEsR0FBYSxPQUFBLENBQVEsUUFBUjs7QUFDYixRQUFBLEdBQWEsT0FBQSxDQUFRLFlBQVI7O0FBRVA7OztxQkFFRixlQUFBLEdBQWlCLFNBQUE7ZUFBRztJQUFIOztJQUVkLGdCQUFDLE1BQUQ7O1lBQUMsU0FBTzs7UUFFUCx5Q0FBQSxTQUFBO1FBRUEsSUFBQyxDQUFBLEtBQUQsR0FBUztRQUNULElBQUMsQ0FBQSxLQUFELEdBQVM7UUFDVCxJQUFDLENBQUEsTUFBRCxHQUFVO1FBQ1YsSUFBQyxDQUFBLFFBQUQsR0FBYTtRQUNiLElBQUMsQ0FBQSxTQUFELEdBQWE7UUFFYixJQUFDLENBQUEsZ0JBQUQsR0FBb0IsSUFBQyxDQUFBLGdCQUFELENBQWtCLEtBQWxCO1FBQ3BCLElBQUMsQ0FBQSxlQUFELEdBQW9CLElBQUMsQ0FBQSxnQkFBRCxDQUFrQixJQUFsQjtRQUNwQixJQUFDLENBQUEsY0FBRCxHQUFvQixJQUFDLENBQUEsZ0JBQUQsQ0FBa0IsVUFBbEI7UUFFcEIsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFJLE1BQUosQ0FBVyxJQUFYLEVBQWMsTUFBTSxDQUFDLE1BQXJCLEVBQTZCLFFBQTdCLEVBQXNDLENBQXRDLENBQVg7UUFDQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUksTUFBSixDQUFXLElBQVgsRUFBYyxNQUFNLENBQUMsTUFBckIsRUFBNkIsVUFBN0IsRUFBd0MsSUFBeEMsRUFBNkMsTUFBTSxDQUFDLFVBQXBELENBQVg7UUFFQSxJQUFDLENBQUEs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LENBQUEsS0FBSjtvQkFDSSxJQUFDLENBQUEsS0FBSyxDQUFDLEdBQVAsQ0FBQTtvQkFDQSxJQUFDLENBQUEsS0FBRCxHQUFTLEtBRmI7aUJBYko7O21CQWlCQSxJQUFDLENBQUEsTUFBTyxDQUFBLElBQUMsQ0FBQSxjQUFELENBQWdCLENBQUMsY0FBekIsQ0FBQSxFQXBCSjs7SUFGTzs7cUJBd0JYLFdBQUEsR0FBYSxTQUFDLEdBQUQ7QUFFVCxZQUFBO1FBQUEsd0NBQU0sR0FBTjsrQ0FDTSxDQUFFLFdBQVIsQ0FBb0IsSUFBQyxDQUFBLFFBQXJCO0lBSFM7O3FCQUtiLE9BQUEsR0FBUyxTQUFDLENBQUQ7UUFFTCxJQUFDLENBQUEsS0FBRCxJQUFVLENBQUEsR0FBSTtRQUNkLElBQUMsQ0FBQSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQWpCLENBQXNCLFVBQVUsQ0FBQyxvQkFBWCxDQUFnQyxJQUFDLENBQUEsS0FBakMsRUFBd0MsTUFBTSxDQUFDLEtBQS9DLENBQXRCO2VBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBakIsQ0FBc0IsVUFBVSxDQUFDLG9CQUFYLENBQWdDLElBQUMsQ0FBQSxLQUFELEdBQU8sQ0FBdkMsRUFBMEMsTUFBTSxDQUFDLEtBQWpELENBQXRCO0lBSks7O3FCQU1ULGFBQUEsR0FBZSxTQUFDLE1BQUQ7UUFFWCxJQUFHLE1BQU0sQ0FBQyxFQUFQLEtBQWEsTUFBTSxDQUFDLE1BQXZCO21CQUNJLElBQUMsQ0FBQSxNQUFELENBQUEsRUFESjtTQUFBLE1BQUE7bUJBR0ksSUFBQyxDQUFBLE9BQUQsQ0FBUyxNQUFNLENBQUMsZ0JBQVAsQ0FBQSxDQUFULEVBSEo7O0lBRlc7Ozs7R0E5RkU7O0FBcUdyQixNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwMDAwMDAgICAwMDAwMDAwICAwMDAgICAwMDBcbiMgMDAwICAgICAgIDAwMCAwIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDBcbiMgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAwMDAwMDBcbiMgICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDBcbiMgMDAwMDAwMCAgIDAwICAgICAwMCAgMDAwICAgICAwMDAgICAgICAwMDAwMDAwICAwMDAgICAwMDBcblxuUXVhdGVybmlvbiA9IHJlcXVpcmUgJy4vbGliL3F1YXRlcm5pb24nXG5WZWN0b3IgICAgID0gcmVxdWlyZSAnLi9saWIvdmVjdG9yJ1xuQWN0aW9uICAgICA9IHJlcXVpcmUgJy4vYWN0aW9uJ1xuTGlnaHQgICAgICA9IHJlcXVpcmUgJy4vbGlnaHQnXG5JdGVtICAgICAgID0gcmVxdWlyZSAnLi9pdGVtJ1xuTWF0ZXJpYWwgICA9IHJlcXVpcmUgJy4vbWF0ZXJpYWwnXG5cbmNsYXNzIFN3aXRjaCBleHRlbmRzIEl0ZW1cblxuICAgIGlzU3BhY2VFZ29pc3RpYzogLT4gZmFsc2VcbiAgICBcbiAgICBAOiAoYWN0aXZlPWZhbHNlKSAtPlxuXG4gICAgICAgIHN1cGVyXG4gICAgXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgQGxpZ2h0ID0gbnVsbFxuICAgICAgICBAYWN0aXZlID0gbnVsbFxuICAgICAgICBAc291bmRfb24gID0gJ1NXSVRDSF9PTidcbiAgICAgICAgQHNvdW5kX29mZiA9ICdTV0lUQ0hfT0ZGJ1xuICAgICAgICBcbiAgICAgICAgQFNXSVRDSF9PRkZfRVZFTlQgPSBAYWRkRXZlbnRXaXRoTmFtZSBcIm9mZlwiXG4gICAgICAgIEBTV0lUQ0hfT05fRVZFTlQgID0gQGFkZEV2ZW50V2l0aE5hbWUgXCJvblwiXG4gICAgICAgIEBTV0lUQ0hFRF9FVkVOVCAgID0gQGFkZEV2ZW50V2l0aE5hbWUgXCJzd2l0Y2hlZFwiXG4gICAgXG4gICAgICAgIEBhZGRBY3Rpb24gbmV3IEFjdGlvbiBALCBBY3Rpb24uVE9HR0xFLCBcInRvZ2dsZVwiIDBcbiAgICAgICAgQGFkZEFjdGlvbiBuZXcgQWN0aW9uIEAsIEFjdGlvbi5ST1RBVEUsIFwicm90YXRpb25cIiAyMDAwIEFjdGlvbi5DT05USU5VT1VTXG4gICAgXG4gICAgICAgIEBzZXRBY3RpdmUgYWN0aXZlXG5cbiAgICBkZWw6IC0+XG4gICAgICAgIFxuICAgICAgICBAbWVzaC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICAgICAgQHRvcnMuZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgICAgIEBsaWdodD8uZGVsKClcbiAgICAgICAgc3VwZXJcblxuICAgIGNyZWF0ZU1lc2g6IC0+XG4gICAgICAgIFxuICAgICAgICB0b3J1c1JhZGl1cyA9IDAuMDVcbiAgICAgICAgdDEgPSBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSAwLjUtdG9ydXNSYWRpdXMsIHRvcnVzUmFkaXVzLCAxNiwgMzJcbiAgICAgICAgQG1lc2ggPSBuZXcgVEhSRUUuTWVzaCB0MSwgTWF0ZXJpYWwuc3dpdGNoXG4gICAgICAgIEBtZXNoLmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgICAgIEBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gICAgIFxuICAgICAgICB0MiA9IG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5IDAuNS10b3J1c1JhZGl1cywgdG9ydXNSYWRpdXMsIDE2LCAzMlxuICAgICAgICB0Mi5yb3RhdGVZIFZlY3Rvci5ERUcyUkFEIDkwIFxuICAgICAgICBAdG9ycyA9IG5ldyBUSFJFRS5NZXNoIHQyLCBNYXRlcmlhbC5zd2l0Y2hcbiAgICAgICAgQHRvcnMuY2FzdFNoYWRvdyA9IHRydWVcbiAgICAgICAgQHRvcnMucmVjZWl2ZVNoYWRvdyA9IHRydWVcbiAgICAgICAgQG1lc2guYWRkIEB0b3JzXG4gICAgICAgIEBtZXNoXG4gICAgICAgIFxuICAgIGJ1bGxldEltcGFjdDogLT4gQHNldEFjdGl2ZSBub3QgQGFjdGl2ZVxuICAgICAgICBcbiAgICBsaWdodERlbGV0ZWQ6IC0+IEBsaWdodCA9IG51bGxcbiAgICBcbiAgICBjcmVhdGVMaWdodDogLT4gXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaWYgQGxpZ2h0XG4gICAgICAgIEBsaWdodCA9IG5ldyBMaWdodCBcbiAgICAgICAgICAgIHBvczogQHBvc2l0aW9uXG4gICAgICAgICAgICByYWRpdXM6IDYuMFxuICAgIFxuICAgIHRvZ2dsZTogLT4gQHNldEFjdGl2ZSBub3QgQGFjdGl2ZVxuICAgIFxuICAgIHNldEFjdGl2ZTogKHN0YXR1cykgLT5cbiAgICAgICAgXG4gICAgICAgIGlmIEBhY3RpdmUgIT0gc3RhdHVzXG4gICAgICAgICAgICBAYWN0aXZlID0gc3RhdHVzXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBhY3RpdmVcbiAgICAgICAgICAgICAgICAjIHN0YXJ0IHRoZSBvcmJpdCByb3RhdGlvblxuICAgICAgICAgICAgICAgIEBzdGFydFRpbWVkQWN0aW9uIEBnZXRBY3Rpb25XaXRoSWQgQWN0aW9uLlJPVEFURSBcbiAgICAgICAgICAgICAgICB3b3JsZC5wbGF5U291bmQgQHNvdW5kX29uXG4gICAgICAgICAgICAgICAgQGV2ZW50c1tAU1dJVENIX09OX0VWRU5UXS50cmlnZ2VyQWN0aW9ucygpXG4gICAgICAgICAgICAgICAgQGNyZWF0ZUxpZ2h0KClcbiAgICAgICAgICAgICAgICBAbGlnaHQub24gJ2RlbGV0ZWQnIEBsaWdodERlbGV0ZWRcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAc3RvcEFjdGlvbiBAZ2V0QWN0aW9uV2l0aElkIEFjdGlvbi5ST1RBVEVcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3b3JsZC5wbGF5U291bmQgQHNvdW5kX29mZlxuICAgICAgICAgICAgICAgIEBldmVudHNbQFNXSVRDSF9PRkZfRVZFTlRdLnRyaWdnZXJBY3Rpb25zKClcbiAgICBcbiAgICAgICAgICAgICAgICBpZiBAbGlnaHQgXG4gICAgICAgICAgICAgICAgICAgIEBsaWdodC5kZWwoKVxuICAgICAgICAgICAgICAgICAgICBAbGlnaHQgPSBudWxsXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQGV2ZW50c1tAU1dJVENIRURfRVZFTlRdLnRyaWdnZXJBY3Rpb25zKClcbiAgICBcbiAgICBzZXRQb3NpdGlvbjogKHBvcykgLT5cbiAgICAgICAgXG4gICAgICAgIHN1cGVyIHBvc1xuICAgICAgICBAbGlnaHQ/LnNldFBvc2l0aW9uIEBwb3NpdGlvblxuICAgIFxuICAgIGFuaW1hdGU6IChmKSAtPlxuICAgICAgICBcbiAgICAgICAgQGFuZ2xlICs9IGYgKiAzNjBcbiAgICAgICAgQG1lc2gucXVhdGVybmlvbi5jb3B5IFF1YXRlcm5pb24ucm90YXRpb25Bcm91bmRWZWN0b3IgQGFuZ2xlLCBWZWN0b3IudW5pdFlcbiAgICAgICAgQHRvcnMucXVhdGVybmlvbi5jb3B5IFF1YXRlcm5pb24ucm90YXRpb25Bcm91bmRWZWN0b3IgQGFuZ2xlLzIsIFZlY3Rvci51bml0WlxuICAgICAgICBcbiAgICBwZXJmb3JtQWN0aW9uOiAoYWN0aW9uKSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgYWN0aW9uLmlkID09IEFjdGlvbi5UT0dHTEVcbiAgICAgICAgICAgIEB0b2dnbGUoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAYW5pbWF0ZSBhY3Rpb24uZ2V0UmVsYXRpdmVEZWx0YSgpXG4gICAgXG5tb2R1bGUuZXhwb3J0cyA9IFN3aXRjaFxuIl19
//# sourceURL=../coffee/switch.coffee