// koffee 1.4.0
var Action, Item, Light, Material, Quaternion, Switch, Vector,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

Quaternion = require('./lib/quaternion');

Vector = require('./lib/vector');

Action = require('./action');

Light = require('./light');

Item = require('./item');

Material = require('./material');

Switch = (function(superClass) {
    extend(Switch, superClass);

    Switch.prototype.isSpaceEgoistic = function() {
        return false;
    };

    function Switch(active) {
        if (active == null) {
            active = false;
        }
        Switch.__super__.constructor.apply(this, arguments);
        this.angle = 0;
        this.light = null;
        this.active = null;
        this.sound_on = 'SWITCH_ON';
        this.sound_off = 'SWITCH_OFF';
        this.SWITCH_OFF_EVENT = this.addEventWithName("off");
        this.SWITCH_ON_EVENT = this.addEventWithName("on");
        this.SWITCHED_EVENT = this.addEventWithName("switched");
        this.addAction(new Action(this, Action.TOGGLE, "toggle", 0));
        this.addAction(new Action(this, Action.ROTATE, "rotation", 2000, Action.CONTINUOUS));
        this.setActive(active);
    }

    Switch.prototype.del = function() {
        var ref;
        Switch.__super__.del.apply(this, arguments);
        return (ref = this.light) != null ? ref.del() : void 0;
    };

    Switch.prototype.createMesh = function() {
        var t1, t2, torusRadius;
        torusRadius = 0.05;
        t1 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        this.mesh = new THREE.Mesh(t1, Material["switch"]);
        this.mesh.castShadow = true;
        this.mesh.receiveShadow = true;
        t2 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        t2.rotateY(Vector.DEG2RAD(90));
        this.tors = new THREE.Mesh(t2, Material["switch"]);
        this.tors.castShadow = true;
        this.tors.receiveShadow = true;
        this.mesh.add(this.tors);
        return this.mesh;
    };

    Switch.prototype.bulletImpact = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.lightDeleted = function() {
        return this.light = null;
    };

    Switch.prototype.createLight = function() {
        return this.light = new Light({
            pos: this.position,
            radius: 6.0
        });
    };

    Switch.prototype.toggle = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.setActive = function(status) {
        if (this.active !== status) {
            this.active = status;
            if (this.active) {
                this.startTimedAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_on);
                this.events[this.SWITCH_ON_EVENT].triggerActions();
                this.createLight();
                this.light.on('deleted', this.lightDeleted);
            } else {
                this.stopAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_off);
                this.events[this.SWITCH_OFF_EVENT].triggerActions();
                if (this.light) {
                    this.light.del();
                    this.light = null;
                }
            }
            return this.events[this.SWITCHED_EVENT].triggerActions();
        }
    };

    Switch.prototype.setPosition = function(pos) {
        var ref;
        Switch.__super__.setPosition.call(this, pos);
        return (ref = this.light) != null ? ref.setPosition(this.position) : void 0;
    };

    Switch.prototype.animate = function(f) {
        this.angle += f * 360;
        this.mesh.quaternion.copy(Quaternion.rotationAroundVector(this.angle, Vector.unitY));
        return this.tors.quaternion.copy(Quaternion.rotationAroundVector(this.angle / 2, Vector.unitZ));
    };

    Switch.prototype.performAction = function(action) {
        if (action.id === Action.TOGGLE) {
            return this.toggle();
        } else {
            return this.animate(action.getRelativeDelta());
        }
    };

    return Switch;

})(Item);

module.exports = Switch;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBTUEsSUFBQSx5REFBQTtJQUFBOzs7QUFBQSxVQUFBLEdBQWEsT0FBQSxDQUFRLGtCQUFSOztBQUNiLE1BQUEsR0FBYSxPQUFBLENBQVEsY0FBUjs7QUFDYixNQUFBLEdBQWEsT0FBQSxDQUFRLFVBQVI7O0FBQ2IsS0FBQSxHQUFhLE9BQUEsQ0FBUSxTQUFSOztBQUNiLElBQUEsR0FBYSxPQUFBLENBQVEsUUFBUjs7QUFDYixRQUFBLEdBQWEsT0FBQSxDQUFRLFlBQVI7O0FBRVA7OztxQkFFRixlQUFBLEdBQWlCLFNBQUE7ZUFBRztJQUFIOztJQUVkLGdCQUFDLE1BQUQ7O1lBQUMsU0FBTzs7UUFFUCx5Q0FBQSxTQUFBO1FBRUEsSUFBQyxDQUFBLEtBQUQsR0FBUztRQUNULElBQUMsQ0FBQSxLQUFELEdBQVM7UUFDVCxJQUFDLENBQUEsTUFBRCxHQUFVO1FBQ1YsSUFBQyxDQUFBLFFBQUQsR0FBYTtRQUNiLElBQUMsQ0FBQSxTQUFELEdBQWE7UUFFYixJQUFDLENBQUEsZ0JBQUQsR0FBb0IsSUFBQyxDQUFBLGdCQUFELENBQWtCLEtBQWxCO1FBQ3BCLElBQUMsQ0FBQSxlQUFELEdBQW9CLElBQUMsQ0FBQSxnQkFBRCxDQUFrQixJQUFsQjtRQUNwQixJQUFDLENBQUEsY0FBRCxHQUFvQixJQUFDLENBQUEsZ0JBQUQsQ0FBa0IsVUFBbEI7UUFFcEIsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFJLE1BQUosQ0FBVyxJQUFYLEVBQWMsTUFBTSxDQUFDLE1BQXJCLEVBQTZCLFFBQTdCLEVBQXVDLENBQXZDLENBQVg7UUFDQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUksTUFBSixDQUFXLElBQVgsRUFBYyxNQUFNLENBQUMsTUFBckIsRUFBNkIsVUFBN0IsRUFBeUMsSUFBekMsRUFBK0MsTUFBTSxDQUFDLFVBQXRELENBQVg7UUFFQSxJQUFDLENBQUEs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QWdCLENBQUMsY0FBekIsQ0FBQSxFQXBCSjs7SUFETzs7cUJBdUJYLFdBQUEsR0FBYSxTQUFDLEdBQUQ7QUFDVCxZQUFBO1FBQUEsd0NBQU0sR0FBTjsrQ0FDTSxDQUFFLFdBQVIsQ0FBb0IsSUFBQyxDQUFBLFFBQXJCO0lBRlM7O3FCQUliLE9BQUEsR0FBUyxTQUFDLENBQUQ7UUFDTCxJQUFDLENBQUEsS0FBRCxJQUFVLENBQUEsR0FBSTtRQUNkLElBQUMsQ0FBQSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQWpCLENBQXNCLFVBQVUsQ0FBQyxvQkFBWCxDQUFnQyxJQUFDLENBQUEsS0FBakMsRUFBd0MsTUFBTSxDQUFDLEtBQS9DLENBQXRCO2VBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBakIsQ0FBc0IsVUFBVSxDQUFDLG9CQUFYLENBQWdDLElBQUMsQ0FBQSxLQUFELEdBQU8sQ0FBdkMsRUFBMEMsTUFBTSxDQUFDLEtBQWpELENBQXRCO0lBSEs7O3FCQUtULGFBQUEsR0FBZSxTQUFDLE1BQUQ7UUFFWCxJQUFHLE1BQU0sQ0FBQyxFQUFQLEtBQWEsTUFBTSxDQUFDLE1BQXZCO21CQUNJLElBQUMsQ0FBQSxNQUFELENBQUEsRUFESjtTQUFBLE1BQUE7bUJBR0ksSUFBQyxDQUFBLE9BQUQsQ0FBUyxNQUFNLENBQUMsZ0JBQVAsQ0FBQSxDQUFULEVBSEo7O0lBRlc7Ozs7R0FwRkU7O0FBMkZyQixNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwMDAwMDAgICAwMDAwMDAwICAwMDAgICAwMDBcbiMgMDAwICAgICAgIDAwMCAwIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDBcbiMgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAwMDAwMDBcbiMgICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDBcbiMgMDAwMDAwMCAgIDAwICAgICAwMCAgMDAwICAgICAwMDAgICAgICAwMDAwMDAwICAwMDAgICAwMDBcblxuUXVhdGVybmlvbiA9IHJlcXVpcmUgJy4vbGliL3F1YXRlcm5pb24nXG5WZWN0b3IgICAgID0gcmVxdWlyZSAnLi9saWIvdmVjdG9yJ1xuQWN0aW9uICAgICA9IHJlcXVpcmUgJy4vYWN0aW9uJ1xuTGlnaHQgICAgICA9IHJlcXVpcmUgJy4vbGlnaHQnXG5JdGVtICAgICAgID0gcmVxdWlyZSAnLi9pdGVtJ1xuTWF0ZXJpYWwgICA9IHJlcXVpcmUgJy4vbWF0ZXJpYWwnXG5cbmNsYXNzIFN3aXRjaCBleHRlbmRzIEl0ZW1cblxuICAgIGlzU3BhY2VFZ29pc3RpYzogLT4gZmFsc2UgIyB0cnVlP1xuICAgIFxuICAgIEA6IChhY3RpdmU9ZmFsc2UpIC0+XG5cbiAgICAgICAgc3VwZXJcbiAgICBcbiAgICAgICAgQGFuZ2xlID0gMFxuICAgICAgICBAbGlnaHQgPSBudWxsXG4gICAgICAgIEBhY3RpdmUgPSBudWxsXG4gICAgICAgIEBzb3VuZF9vbiAgPSAnU1dJVENIX09OJ1xuICAgICAgICBAc291bmRfb2ZmID0gJ1NXSVRDSF9PRkYnXG4gICAgICAgIFxuICAgICAgICBAU1dJVENIX09GRl9FVkVOVCA9IEBhZGRFdmVudFdpdGhOYW1lIFwib2ZmXCJcbiAgICAgICAgQFNXSVRDSF9PTl9FVkVOVCAgPSBAYWRkRXZlbnRXaXRoTmFtZSBcIm9uXCJcbiAgICAgICAgQFNXSVRDSEVEX0VWRU5UICAgPSBAYWRkRXZlbnRXaXRoTmFtZSBcInN3aXRjaGVkXCJcbiAgICBcbiAgICAgICAgQGFkZEFjdGlvbiBuZXcgQWN0aW9uIEAsIEFjdGlvbi5UT0dHTEUsIFwidG9nZ2xlXCIsIDBcbiAgICAgICAgQGFkZEFjdGlvbiBuZXcgQWN0aW9uIEAsIEFjdGlvbi5ST1RBVEUsIFwicm90YXRpb25cIiwgMjAwMCwgQWN0aW9uLkNPTlRJTlVPVVNcbiAgICBcbiAgICAgICAgQHNldEFjdGl2ZSBhY3RpdmVcblxuICAgIGRlbDogKCkgLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgQGxpZ2h0Py5kZWwoKVxuXG4gICAgY3JlYXRlTWVzaDogKCkgLT5cbiAgICAgICAgdG9ydXNSYWRpdXMgPSAwLjA1XG4gICAgICAgIHQxID0gbmV3IFRIUkVFLlRvcnVzQnVmZmVyR2VvbWV0cnkgMC41LXRvcnVzUmFkaXVzLCB0b3J1c1JhZGl1cywgMTYsIDMyXG4gICAgICAgIEBtZXNoID0gbmV3IFRIUkVFLk1lc2ggdDEsIE1hdGVyaWFsLnN3aXRjaFxuICAgICAgICBAbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZVxuICAgICAgICBAbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZVxuICAgICBcbiAgICAgICAgdDIgPSBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSAwLjUtdG9ydXNSYWRpdXMsIHRvcnVzUmFkaXVzLCAxNiwgMzJcbiAgICAgICAgdDIucm90YXRlWSBWZWN0b3IuREVHMlJBRCA5MCBcbiAgICAgICAgQHRvcnMgPSBuZXcgVEhSRUUuTWVzaCB0MiwgTWF0ZXJpYWwuc3dpdGNoXG4gICAgICAgIEB0b3JzLmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgICAgIEB0b3JzLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gICAgICAgIEBtZXNoLmFkZCBAdG9yc1xuICAgICAgICBAbWVzaFxuICAgICAgICBcbiAgICBidWxsZXRJbXBhY3Q6IC0+IEBzZXRBY3RpdmUgbm90IEBhY3RpdmVcbiAgICAgICAgXG4gICAgbGlnaHREZWxldGVkOiAoKSAtPiBAbGlnaHQgPSBudWxsXG4gICAgY3JlYXRlTGlnaHQ6IC0+IFxuICAgICAgICBAbGlnaHQgPSBuZXcgTGlnaHQgXG4gICAgICAgICAgICBwb3M6ICAgIEBwb3NpdGlvblxuICAgICAgICAgICAgcmFkaXVzOiA2LjBcbiAgICBcbiAgICB0b2dnbGU6IC0+IEBzZXRBY3RpdmUgbm90IEBhY3RpdmVcbiAgICBcbiAgICBzZXRBY3RpdmU6IChzdGF0dXMpIC0+XG4gICAgICAgIGlmIEBhY3RpdmUgIT0gc3RhdHVzXG4gICAgICAgICAgICBAYWN0aXZlID0gc3RhdHVzXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBhY3RpdmVcbiAgICAgICAgICAgICAgICAjIHN0YXJ0IHRoZSBvcmJpdCByb3RhdGlvblxuICAgICAgICAgICAgICAgIEBzdGFydFRpbWVkQWN0aW9uIEBnZXRBY3Rpb25XaXRoSWQgQWN0aW9uLlJPVEFURSBcbiAgICAgICAgICAgICAgICB3b3JsZC5wbGF5U291bmQgQHNvdW5kX29uXG4gICAgICAgICAgICAgICAgQGV2ZW50c1tAU1dJVENIX09OX0VWRU5UXS50cmlnZ2VyQWN0aW9ucygpXG4gICAgICAgICAgICAgICAgQGNyZWF0ZUxpZ2h0KClcbiAgICAgICAgICAgICAgICBAbGlnaHQub24gJ2RlbGV0ZWQnLCBAbGlnaHREZWxldGVkXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQHN0b3BBY3Rpb24gQGdldEFjdGlvbldpdGhJZCBBY3Rpb24uUk9UQVRFXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd29ybGQucGxheVNvdW5kIEBzb3VuZF9vZmZcbiAgICAgICAgICAgICAgICBAZXZlbnRzW0BTV0lUQ0hfT0ZGX0VWRU5UXS50cmlnZ2VyQWN0aW9ucygpXG4gICAgXG4gICAgICAgICAgICAgICAgaWYgQGxpZ2h0IFxuICAgICAgICAgICAgICAgICAgICBAbGlnaHQuZGVsKClcbiAgICAgICAgICAgICAgICAgICAgQGxpZ2h0ID0gbnVsbFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBldmVudHNbQFNXSVRDSEVEX0VWRU5UXS50cmlnZ2VyQWN0aW9ucygpXG4gICAgXG4gICAgc2V0UG9zaXRpb246IChwb3MpIC0+XG4gICAgICAgIHN1cGVyIHBvc1xuICAgICAgICBAbGlnaHQ/LnNldFBvc2l0aW9uIEBwb3NpdGlvblxuICAgIFxuICAgIGFuaW1hdGU6IChmKSAtPlxuICAgICAgICBAYW5nbGUgKz0gZiAqIDM2MFxuICAgICAgICBAbWVzaC5xdWF0ZXJuaW9uLmNvcHkgUXVhdGVybmlvbi5yb3RhdGlvbkFyb3VuZFZlY3RvciBAYW5nbGUsIFZlY3Rvci51bml0WVxuICAgICAgICBAdG9ycy5xdWF0ZXJuaW9uLmNvcHkgUXVhdGVybmlvbi5yb3RhdGlvbkFyb3VuZFZlY3RvciBAYW5nbGUvMiwgVmVjdG9yLnVuaXRaXG4gICAgICAgIFxuICAgIHBlcmZvcm1BY3Rpb246IChhY3Rpb24pIC0+XG4gICAgICAgIFxuICAgICAgICBpZiBhY3Rpb24uaWQgPT0gQWN0aW9uLlRPR0dMRVxuICAgICAgICAgICAgQHRvZ2dsZSgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBhbmltYXRlIGFjdGlvbi5nZXRSZWxhdGl2ZURlbHRhKClcbiAgICBcbm1vZHVsZS5leHBvcnRzID0gU3dpdGNoXG4iXX0=
//# sourceURL=../coffee/switch.coffee