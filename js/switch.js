// koffee 1.4.0
var Action, Item, Light, Material, Quaternion, Switch, Vector, log,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

log = require("./tools/log");

Quaternion = require('./lib/quaternion');

Vector = require('./lib/vector');

Action = require('./action');

Light = require('./light');

Item = require('./item');

Material = require('./material');

Switch = (function(superClass) {
    extend(Switch, superClass);

    Switch.prototype.isSpaceEgoistic = function() {
        return false;
    };

    function Switch(active) {
        if (active == null) {
            active = false;
        }
        Switch.__super__.constructor.apply(this, arguments);
        this.angle = 0;
        this.light = null;
        this.active = null;
        this.sound_on = 'SWITCH_ON';
        this.sound_off = 'SWITCH_OFF';
        this.SWITCH_OFF_EVENT = this.addEventWithName("off");
        this.SWITCH_ON_EVENT = this.addEventWithName("on");
        this.SWITCHED_EVENT = this.addEventWithName("switched");
        this.addAction(new Action(this, Action.TOGGLE, "toggle", 0));
        this.addAction(new Action(this, Action.ROTATE, "rotation", 2000, Action.CONTINUOUS));
        this.setActive(active);
    }

    Switch.prototype.del = function() {
        var ref;
        Switch.__super__.del.apply(this, arguments);
        return (ref = this.light) != null ? ref.del() : void 0;
    };

    Switch.prototype.createMesh = function() {
        var t1, t2, torusRadius;
        torusRadius = 0.05;
        t1 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        this.mesh = new THREE.Mesh(t1, Material["switch"]);
        this.mesh.castShadow = true;
        this.mesh.receiveShadow = true;
        t2 = new THREE.TorusBufferGeometry(0.5 - torusRadius, torusRadius, 16, 32);
        t2.rotateY(Vector.DEG2RAD(90));
        this.tors = new THREE.Mesh(t2, Material["switch"]);
        this.tors.castShadow = true;
        this.tors.receiveShadow = true;
        this.mesh.add(this.tors);
        return this.mesh;
    };

    Switch.prototype.bulletImpact = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.lightDeleted = function() {
        return this.light = null;
    };

    Switch.prototype.createLight = function() {
        return this.light = new Light({
            pos: this.position,
            radius: 6.0
        });
    };

    Switch.prototype.toggle = function() {
        return this.setActive(!this.active);
    };

    Switch.prototype.setActive = function(status) {
        if (this.active !== status) {
            this.active = status;
            if (this.active) {
                this.startTimedAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_on);
                this.events[this.SWITCH_ON_EVENT].triggerActions();
                this.createLight();
                this.light.on('deleted', this.lightDeleted);
            } else {
                this.stopAction(this.getActionWithId(Action.ROTATE));
                world.playSound(this.sound_off);
                this.events[this.SWITCH_OFF_EVENT].triggerActions();
                if (this.light) {
                    this.light.del();
                    this.light = null;
                }
            }
            return this.events[this.SWITCHED_EVENT].triggerActions();
        }
    };

    Switch.prototype.setPosition = function(pos) {
        var ref;
        Switch.__super__.setPosition.call(this, pos);
        return (ref = this.light) != null ? ref.setPosition(this.position) : void 0;
    };

    Switch.prototype.animate = function(f) {
        this.angle += f * 360;
        this.mesh.quaternion.copy(Quaternion.rotationAroundVector(this.angle, Vector.unitY));
        return this.tors.quaternion.copy(Quaternion.rotationAroundVector(this.angle / 2, Vector.unitZ));
    };

    Switch.prototype.performAction = function(action) {
        if (action.id === Action.TOGGLE) {
            return this.toggle();
        } else {
            return this.animate(action.getRelativeDelta());
        }
    };

    return Switch;

})(Item);

module.exports = Switch;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBTUEsSUFBQSw4REFBQTtJQUFBOzs7QUFBQSxHQUFBLEdBQWEsT0FBQSxDQUFRLGFBQVI7O0FBQ2IsVUFBQSxHQUFhLE9BQUEsQ0FBUSxrQkFBUjs7QUFDYixNQUFBLEdBQWEsT0FBQSxDQUFRLGNBQVI7O0FBQ2IsTUFBQSxHQUFhLE9BQUEsQ0FBUSxVQUFSOztBQUNiLEtBQUEsR0FBYSxPQUFBLENBQVEsU0FBUjs7QUFDYixJQUFBLEdBQWEsT0FBQSxDQUFRLFFBQVI7O0FBQ2IsUUFBQSxHQUFhLE9BQUEsQ0FBUSxZQUFSOztBQUVQOzs7cUJBRUYsZUFBQSxHQUFpQixTQUFBO2VBQUc7SUFBSDs7SUFFSixnQkFBQyxNQUFEOztZQUFDLFNBQU87O1FBRWpCLHlDQUFBLFNBQUE7UUFFQSxJQUFDLENBQUEsS0FBRCxHQUFTO1FBQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUztRQUNULElBQUMsQ0FBQSxNQUFELEdBQVU7UUFDVixJQUFDLENBQUEsUUFBRCxHQUFhO1FBQ2IsSUFBQyxDQUFBLFNBQUQsR0FBYTtRQUViLElBQUMsQ0FBQSxnQkFBRCxHQUFvQixJQUFDLENBQUEsZ0JBQUQsQ0FBa0IsS0FBbEI7UUFDcEIsSUFBQyxDQUFBLGVBQUQsR0FBb0IsSUFBQyxDQUFBLGdCQUFELENBQWtCLElBQWxCO1FBQ3BCLElBQUMsQ0FBQSxjQUFELEdBQW9CLElBQUMsQ0FBQSxnQkFBRCxDQUFrQixVQUFsQjtRQUVwQixJQUFDLENBQUEsU0FBRCxDQUFXLElBQUksTUFBSixDQUFXLElBQVgsRUFBYyxNQUFNLENBQUMsTUFBckIsRUFBNkIsUUFBN0IsRUFBdUMsQ0FBdkMsQ0FBWDtRQUNBLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBSSxNQUFKLENBQVcsSUFBWCxFQUFjLE1BQU0sQ0FBQyxNQUFyQixFQUE2QixVQUE3QixFQUF5QyxJQUF6QyxFQUErQyxNQUFN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Q0FBQSxNQUFPLENBQUEsSUFBQyxDQUFBLGNBQUQsQ0FBZ0IsQ0FBQyxjQUF6QixDQUFBLEVBcEJKOztJQURPOztxQkF1QlgsV0FBQSxHQUFhLFNBQUMsR0FBRDtBQUNULFlBQUE7UUFBQSx3Q0FBTSxHQUFOOytDQUNNLENBQUUsV0FBUixDQUFvQixJQUFDLENBQUEsUUFBckI7SUFGUzs7cUJBSWIsT0FBQSxHQUFTLFNBQUMsQ0FBRDtRQUNMLElBQUMsQ0FBQSxLQUFELElBQVUsQ0FBQSxHQUFJO1FBQ2QsSUFBQyxDQUFBLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBakIsQ0FBc0IsVUFBVSxDQUFDLG9CQUFYLENBQWdDLElBQUMsQ0FBQSxLQUFqQyxFQUF3QyxNQUFNLENBQUMsS0FBL0MsQ0FBdEI7ZUFDQSxJQUFDLENBQUEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFqQixDQUFzQixVQUFVLENBQUMsb0JBQVgsQ0FBZ0MsSUFBQyxDQUFBLEtBQUQsR0FBTyxDQUF2QyxFQUEwQyxNQUFNLENBQUMsS0FBakQsQ0FBdEI7SUFISzs7cUJBS1QsYUFBQSxHQUFlLFNBQUMsTUFBRDtRQUVYLElBQUcsTUFBTSxDQUFDLEVBQVAsS0FBYSxNQUFNLENBQUMsTUFBdkI7bUJBQ0ksSUFBQyxDQUFBLE1BQUQsQ0FBQSxFQURKO1NBQUEsTUFBQTttQkFHSSxJQUFDLENBQUEsT0FBRCxDQUFTLE1BQU0sQ0FBQyxnQkFBUCxDQUFBLENBQVQsRUFISjs7SUFGVzs7OztHQXBGRTs7QUEyRnJCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuIyAwMDAgICAgICAgMDAwIDAgMDAwICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMFxuIyAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMDAwMDAwMFxuIyAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMFxuIyAwMDAwMDAwICAgMDAgICAgIDAwICAwMDAgICAgIDAwMCAgICAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuXG5sb2cgICAgICAgID0gcmVxdWlyZSBcIi4vdG9vbHMvbG9nXCJcblF1YXRlcm5pb24gPSByZXF1aXJlICcuL2xpYi9xdWF0ZXJuaW9uJ1xuVmVjdG9yICAgICA9IHJlcXVpcmUgJy4vbGliL3ZlY3RvcidcbkFjdGlvbiAgICAgPSByZXF1aXJlICcuL2FjdGlvbidcbkxpZ2h0ICAgICAgPSByZXF1aXJlICcuL2xpZ2h0J1xuSXRlbSAgICAgICA9IHJlcXVpcmUgJy4vaXRlbSdcbk1hdGVyaWFsICAgPSByZXF1aXJlICcuL21hdGVyaWFsJ1xuXG5jbGFzcyBTd2l0Y2ggZXh0ZW5kcyBJdGVtXG5cbiAgICBpc1NwYWNlRWdvaXN0aWM6IC0+IGZhbHNlICMgdHJ1ZT9cbiAgICBcbiAgICBjb25zdHJ1Y3RvcjogKGFjdGl2ZT1mYWxzZSkgLT5cblxuICAgICAgICBzdXBlclxuICAgIFxuICAgICAgICBAYW5nbGUgPSAwXG4gICAgICAgIEBsaWdodCA9IG51bGxcbiAgICAgICAgQGFjdGl2ZSA9IG51bGxcbiAgICAgICAgQHNvdW5kX29uICA9ICdTV0lUQ0hfT04nXG4gICAgICAgIEBzb3VuZF9vZmYgPSAnU1dJVENIX09GRidcbiAgICAgICAgXG4gICAgICAgIEBTV0lUQ0hfT0ZGX0VWRU5UID0gQGFkZEV2ZW50V2l0aE5hbWUgXCJvZmZcIlxuICAgICAgICBAU1dJVENIX09OX0VWRU5UICA9IEBhZGRFdmVudFdpdGhOYW1lIFwib25cIlxuICAgICAgICBAU1dJVENIRURfRVZFTlQgICA9IEBhZGRFdmVudFdpdGhOYW1lIFwic3dpdGNoZWRcIlxuICAgIFxuICAgICAgICBAYWRkQWN0aW9uIG5ldyBBY3Rpb24gQCwgQWN0aW9uLlRPR0dMRSwgXCJ0b2dnbGVcIiwgMFxuICAgICAgICBAYWRkQWN0aW9uIG5ldyBBY3Rpb24gQCwgQWN0aW9uLlJPVEFURSwgXCJyb3RhdGlvblwiLCAyMDAwLCBBY3Rpb24uQ09OVElOVU9VU1xuICAgIFxuICAgICAgICBAc2V0QWN0aXZlIGFjdGl2ZVxuXG4gICAgZGVsOiAoKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAbGlnaHQ/LmRlbCgpXG5cbiAgICBjcmVhdGVNZXNoOiAoKSAtPlxuICAgICAgICB0b3J1c1JhZGl1cyA9IDAuMDVcbiAgICAgICAgdDEgPSBuZXcgVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSAwLjUtdG9ydXNSYWRpdXMsIHRvcnVzUmFkaXVzLCAxNiwgMzJcbiAgICAgICAgQG1lc2ggPSBuZXcgVEhSRUUuTWVzaCB0MSwgTWF0ZXJpYWwuc3dpdGNoXG4gICAgICAgIEBtZXNoLmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgICAgIEBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gICAgIFxuICAgICAgICB0MiA9IG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5IDAuNS10b3J1c1JhZGl1cywgdG9ydXNSYWRpdXMsIDE2LCAzMlxuICAgICAgICB0Mi5yb3RhdGVZIFZlY3Rvci5ERUcyUkFEIDkwIFxuICAgICAgICBAdG9ycyA9IG5ldyBUSFJFRS5NZXNoIHQyLCBNYXRlcmlhbC5zd2l0Y2hcbiAgICAgICAgQHRvcnMuY2FzdFNoYWRvdyA9IHRydWVcbiAgICAgICAgQHRvcnMucmVjZWl2ZVNoYWRvdyA9IHRydWVcbiAgICAgICAgQG1lc2guYWRkIEB0b3JzXG4gICAgICAgIEBtZXNoXG4gICAgICAgIFxuICAgIGJ1bGxldEltcGFjdDogLT4gQHNldEFjdGl2ZSBub3QgQGFjdGl2ZVxuICAgICAgICBcbiAgICBsaWdodERlbGV0ZWQ6ICgpIC0+IEBsaWdodCA9IG51bGxcbiAgICBjcmVhdGVMaWdodDogLT4gXG4gICAgICAgIEBsaWdodCA9IG5ldyBMaWdodCBcbiAgICAgICAgICAgIHBvczogICAgQHBvc2l0aW9uXG4gICAgICAgICAgICByYWRpdXM6IDYuMFxuICAgIFxuICAgIHRvZ2dsZTogLT4gQHNldEFjdGl2ZSBub3QgQGFjdGl2ZVxuICAgIFxuICAgIHNldEFjdGl2ZTogKHN0YXR1cykgLT5cbiAgICAgICAgaWYgQGFjdGl2ZSAhPSBzdGF0dXNcbiAgICAgICAgICAgIEBhY3RpdmUgPSBzdGF0dXNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQGFjdGl2ZVxuICAgICAgICAgICAgICAgICMgc3RhcnQgdGhlIG9yYml0IHJvdGF0aW9uXG4gICAgICAgICAgICAgICAgQHN0YXJ0VGltZWRBY3Rpb24gQGdldEFjdGlvbldpdGhJZCBBY3Rpb24uUk9UQVRFIFxuICAgICAgICAgICAgICAgIHdvcmxkLnBsYXlTb3VuZCBAc291bmRfb25cbiAgICAgICAgICAgICAgICBAZXZlbnRzW0BTV0lUQ0hfT05fRVZFTlRdLnRyaWdnZXJBY3Rpb25zKClcbiAgICAgICAgICAgICAgICBAY3JlYXRlTGlnaHQoKVxuICAgICAgICAgICAgICAgIEBsaWdodC5vbiAnZGVsZXRlZCcsIEBsaWdodERlbGV0ZWRcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAc3RvcEFjdGlvbiBAZ2V0QWN0aW9uV2l0aElkIEFjdGlvbi5ST1RBVEVcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3b3JsZC5wbGF5U291bmQgQHNvdW5kX29mZlxuICAgICAgICAgICAgICAgIEBldmVudHNbQFNXSVRDSF9PRkZfRVZFTlRdLnRyaWdnZXJBY3Rpb25zKClcbiAgICBcbiAgICAgICAgICAgICAgICBpZiBAbGlnaHQgXG4gICAgICAgICAgICAgICAgICAgIEBsaWdodC5kZWwoKVxuICAgICAgICAgICAgICAgICAgICBAbGlnaHQgPSBudWxsXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQGV2ZW50c1tAU1dJVENIRURfRVZFTlRdLnRyaWdnZXJBY3Rpb25zKClcbiAgICBcbiAgICBzZXRQb3NpdGlvbjogKHBvcykgLT5cbiAgICAgICAgc3VwZXIgcG9zXG4gICAgICAgIEBsaWdodD8uc2V0UG9zaXRpb24gQHBvc2l0aW9uXG4gICAgXG4gICAgYW5pbWF0ZTogKGYpIC0+XG4gICAgICAgIEBhbmdsZSArPSBmICogMzYwXG4gICAgICAgIEBtZXNoLnF1YXRlcm5pb24uY29weSBRdWF0ZXJuaW9uLnJvdGF0aW9uQXJvdW5kVmVjdG9yIEBhbmdsZSwgVmVjdG9yLnVuaXRZXG4gICAgICAgIEB0b3JzLnF1YXRlcm5pb24uY29weSBRdWF0ZXJuaW9uLnJvdGF0aW9uQXJvdW5kVmVjdG9yIEBhbmdsZS8yLCBWZWN0b3IudW5pdFpcbiAgICAgICAgXG4gICAgcGVyZm9ybUFjdGlvbjogKGFjdGlvbikgLT5cbiAgICAgICAgXG4gICAgICAgIGlmIGFjdGlvbi5pZCA9PSBBY3Rpb24uVE9HR0xFXG4gICAgICAgICAgICBAdG9nZ2xlKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGFuaW1hdGUgYWN0aW9uLmdldFJlbGF0aXZlRGVsdGEoKVxuICAgIFxubW9kdWxlLmV4cG9ydHMgPSBTd2l0Y2hcbiJdfQ==
//# sourceURL=../coffee/switch.coffee